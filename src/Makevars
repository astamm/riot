CXX_STD = CXX11
PKG_CPPFLAGS = -Ivtk/include
PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) -Lvtk/lib -lvtk

.PHONY: all ./vtk/lib/libvtk.a

SOURCES = fiberReaders.cpp RcppExports.cpp

OBJECTS = $(SOURCES:.cpp=.o)

VTK_OBJECTS = `ls vtk/lib/*`

all: $(SHLIB)

$(SHLIB): ./vtk/lib/libvtk.a

./vtk/lib/libvtk.a: $(VTK_OBJECTS)
	  $(AR) -crvs ./vtk/lib/libvtk.a $(VTK_OBJECTS)
	  $(RANLIB) $@

clean:
	  rm -f $(OBJECTS) *.dll *.exe
	  rm -fr vtk
